# Develop Style Guide

## Coding

### 인코딩

- UTF-8

### 들여쓰기

- Space 4개

### 줄 길이

- 한 줄 120문자로 제한

### 주석

- `/* */` 형태의 주석 사용 금지
- 파일 설명이나 함수 설명은 `/** */` 사용

### 일반 이름

- 프로젝트 구성원과 합의되지 않은 약어를 사용하지 않음
- 누구나 의미를 파악할 수 있게 작성
- 가독성을 위해 4단어 이상 구성 자제

### 변수 이름

- 소문자로 작성하고 단어 사이에 `_` 사용(snake-case)

### 함수 및 타입 이름

- 대문자로 시작하고, `_` 없이 단어마다 첫 글자를 대문자로 사용(Pascal-case)

### 블럭

- if - else의 경우 반드시 중괄호 사용(단, else가 없는 if문의 경우 예외)
- else 키워드는 if 블럭 닫는 중괄호와 같은 줄에서 사용
- if 조건 앞 뒤 공백을 입력하지 않음

```c
if (condition) {
	...
} else if (...) {
	...
} else {
	...
}
```

### [기타](https://jongwook.kim/google-styleguide/trunk/cppguide.xml#%EC%A4%84_%EA%B8%B8%EC%9D%B4)

## Document

- 파일과 함수에 설명 작성
- doxygen으로 document 작성이 가능한 포맷으로 작성

### 파일

```c
/**   
    @file      ark.h
    @date    2018/05/30
    @author  lake
    @brief    ark test
*/
```

### 함수

```c
/**   
    @file      ark.h
    @date    2018/05/30
    @author  lake
    @brief    ark test
*/
```

## Logging

- libarklog library 사용
- 아래의 정의된 포맷 및 level, 상황에 맞게 작성

### 파일명

- process 이름이나 작업의 이름을 따서 작성
- 확장자는 log, err 사용

### 포맷

- `yyyy-mm-dd hh24:mm:ss.milliseconds [PID:thread_id][LEVEL] message`

### 레벨

| LEVEL | 설명 |
| --- | --- |
| TRACE | • 프로세스의 동작 및 변수 값의 출력을 포함하는 가장 낮은 레벨의 로그
• 메서드의 시작과 끝에 입력값과 결과값을 포함하여 출력
• 디버깅에 필요한 정보를 출력할 때 사용 |
| DEBUG | • 프로세스의 동작 및 변수 값을 출력 |
| INFO | • 프로세스의 일반 정보를 표시
• Default 값으로 운영시 권장되는 값
• 사용자에게 노출되는 레벨이므로 가급적 완성된 문장 형태로 문법에 맞게 작성
• 이벤트 포인트. 진행 상황을 강조해야하는 경우
• 긴 시간이 걸리는 작업이 시작되거나 종료될 때
    ◦ 파일전송 등
• 프로그램의 특성 상 반드시 기록되어야하는 작업일 경우
    ◦ 새로운 Client 접속 등
• 오동작으로 이어지지 않았으나 오동작이 유발될 가능성을 발견한 경우
    ◦ ASSERT => FALSE 등 |
| WARN | • 경고메시지, 향후 프로그램 동작에 부정적인 영향을 미칠수 있는 상태를 기록
• 잠재적 오류 혹은 이미 오류가 발생했으나 자체적으로 해결 또는 해소될 가능성이 존재할 경우 |
| ERROR | • 비정상적인 상황으로 해당 이벤트 동작이 실패한 경우
• 요구사항에 정해진 조건에 따라 프로그램이 중단되는 경우
• 프로그램이 중단 될 필요는 없지만 치명적인 작업으로 인하여 오류가 발생 혹은 발생할 가능성이 존재할 때 |
| FATAL | • 일반 오류 및 프로그램 동작의 치명적인 에러
• 프로그램을 중단시킬 것으로 예상되는 매우 심각한 오류가 발생했을 때 |
| ABSOLUTE | • 프로그램 시작과 종료를 표시 |

### 기타

- 단시간에 동일 내용 반복 않도록 작성

## 다국어지원

- 표준 출력 및 표준 에러로 출력되는 메세지는 gettext library 사용
- message table에 포함된 문자열만을 허용

```c
textdomain("Hello");
printf("trans : %s\n", gettext("Hello"));
```

- 추가
    
    소스 코드를 짤 때 함수명을 미리 생각해놓고 함수부터 만들어 놓기
    
    black box 식이 아닌 white box 식으로 코딩하기
    
    처리가 아닌 return 값으로 판단 가능하도록
    
    흐름도를 짤 때는 선과 요소를 뚫지 않게 선을 꺾어서 작성